<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Nuxt-Fire | Nathan&#39;s Docs</title>
    <meta name="description" content="Just playing around">
    
    
    <link rel="preload" href="/assets/css/0.styles.5fd868be.css" as="style"><link rel="preload" href="/assets/js/app.54493d1a.js" as="script"><link rel="preload" href="/assets/js/2.591a3c31.js" as="script"><link rel="preload" href="/assets/js/12.bc9ec081.js" as="script"><link rel="prefetch" href="/assets/js/10.3045a607.js"><link rel="prefetch" href="/assets/js/11.53e076de.js"><link rel="prefetch" href="/assets/js/13.74a797c9.js"><link rel="prefetch" href="/assets/js/14.ea86c806.js"><link rel="prefetch" href="/assets/js/15.6c23b5b1.js"><link rel="prefetch" href="/assets/js/16.13095159.js"><link rel="prefetch" href="/assets/js/17.f1a8057e.js"><link rel="prefetch" href="/assets/js/18.265480d8.js"><link rel="prefetch" href="/assets/js/19.080eecba.js"><link rel="prefetch" href="/assets/js/20.97a83ac1.js"><link rel="prefetch" href="/assets/js/21.df11e2bc.js"><link rel="prefetch" href="/assets/js/22.4082ee13.js"><link rel="prefetch" href="/assets/js/23.3c67537f.js"><link rel="prefetch" href="/assets/js/24.7ac570ae.js"><link rel="prefetch" href="/assets/js/25.70f8cb21.js"><link rel="prefetch" href="/assets/js/26.b1ac5462.js"><link rel="prefetch" href="/assets/js/3.06582f54.js"><link rel="prefetch" href="/assets/js/4.65be5248.js"><link rel="prefetch" href="/assets/js/5.ccfe4958.js"><link rel="prefetch" href="/assets/js/6.f2b85beb.js"><link rel="prefetch" href="/assets/js/7.fb36b2fe.js"><link rel="prefetch" href="/assets/js/8.695f3fbe.js"><link rel="prefetch" href="/assets/js/9.da57d393.js">
    <link rel="stylesheet" href="/assets/css/0.styles.5fd868be.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><!----> <span class="site-name">Nathan's Docs</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/" class="nav-link">Home</a></div><div class="nav-item"><a href="/vue/" class="nav-link">Vue.js</a></div><div class="nav-item"><a href="/firebase/" class="nav-link router-link-active">Firebase</a></div><div class="nav-item"><a href="/other/" class="nav-link">Other</a></div><div class="nav-item"><a href="https://www.nathanblaylock.com" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Portfolio
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/" class="nav-link">Home</a></div><div class="nav-item"><a href="/vue/" class="nav-link">Vue.js</a></div><div class="nav-item"><a href="/firebase/" class="nav-link router-link-active">Firebase</a></div><div class="nav-item"><a href="/other/" class="nav-link">Other</a></div><div class="nav-item"><a href="https://www.nathanblaylock.com" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Portfolio
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Vue.js</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading open"><span>Firebase</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/firebase/" class="sidebar-link">Firebase</a></li><li><a href="/firebase/hosting.html" class="sidebar-link">Hosting</a></li><li><a href="/firebase/authentication.html" class="sidebar-link">Authentication</a></li><li><a href="/firebase/firestore.html" class="sidebar-link">Firestore</a></li><li><a href="/firebase/securityrules.html" class="sidebar-link">Security Rules</a></li><li><a href="/firebase/nuxtfire.html" class="active sidebar-link">Nuxt-Fire</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/firebase/nuxtfire.html#initialization" class="sidebar-link">Initialization</a></li><li class="sidebar-sub-header"><a href="/firebase/nuxtfire.html#authentication" class="sidebar-link">Authentication</a></li><li class="sidebar-sub-header"><a href="/firebase/nuxtfire.html#firestore" class="sidebar-link">Firestore</a></li></ul></li></ul></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Other</span> <span class="arrow right"></span></p> <!----></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="nuxt-fire"><a href="#nuxt-fire" class="header-anchor">#</a> Nuxt-Fire</h1> <p>Nuxt-Fire is a plugin for Nuxt that easily sets up Firebase so you don't have to do a lot of the crazy setup. They have some easy setup on their <a href="https://nuxtfire.netlify.com/" target="_blank" rel="noopener noreferrer">documentation<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>, but here is the gist of it.</p> <div class="custom-block tip"><p class="custom-block-title">TIP</p> <p>When using Nuxt-Fire, it is best to use arrow functions. It handles <code>this</code> better.</p></div> <h2 id="initialization"><a href="#initialization" class="header-anchor">#</a> Initialization</h2> <p>Before you can do any configuration or write any firebase code, you have to install firebase to your project as a dependency. Then you need to install Nuxt-Fire. Somewhere there some magic happens, and you can configure the webpage and everything just works. Thumbs up to Nuxt-Fire.</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token function">npm</span> i firebase
<span class="token function">npm</span> i nuxt-fire
</code></pre></div><p>In <code>nuxt.config.js</code>, enter the following within <code>modules</code>:</p> <div class="language-js extra-class"><pre class="language-js"><code>modules<span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token punctuation">[</span>
      <span class="token string">'nuxt-fire'</span><span class="token punctuation">,</span>
      <span class="token punctuation">{</span>
        config<span class="token operator">:</span> <span class="token punctuation">{</span>
            apiKey<span class="token operator">:</span> <span class="token string">'&lt;apiKey&gt;'</span><span class="token punctuation">,</span>
            authDomain<span class="token operator">:</span> <span class="token string">'&lt;authDomain&gt;'</span><span class="token punctuation">,</span>
            databaseURL<span class="token operator">:</span> <span class="token string">'&lt;databaseURL&gt;'</span><span class="token punctuation">,</span>
            projectId<span class="token operator">:</span> <span class="token string">'&lt;projectId&gt;'</span><span class="token punctuation">,</span>
            storageBucket<span class="token operator">:</span> <span class="token string">'&lt;storageBucket&gt;'</span><span class="token punctuation">,</span>
            messagingSenderId<span class="token operator">:</span> <span class="token string">'&lt;messagingSenderId&gt;'</span><span class="token punctuation">,</span>
            appId<span class="token operator">:</span> <span class="token string">'&lt;appId&gt;'</span><span class="token punctuation">,</span>
            measurementId<span class="token operator">:</span> <span class="token string">'&lt;measurementId&gt;'</span> <span class="token comment">// MIGHT NOT HAVE THIS</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        services<span class="token operator">:</span> <span class="token punctuation">{</span>
            auth<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
            firestore<span class="token operator">:</span> <span class="token boolean">true</span>
        <span class="token punctuation">}</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">]</span>
  <span class="token punctuation">]</span><span class="token punctuation">,</span>
</code></pre></div><h2 id="authentication"><a href="#authentication" class="header-anchor">#</a> Authentication</h2> <p>Sign In with Email and Password:</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">this</span><span class="token punctuation">.</span>$fireAuth
  <span class="token punctuation">.</span><span class="token function">signInWithEmailAndPassword</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>username<span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">.</span>password<span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;Login Successful&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">catch</span><span class="token punctuation">(</span><span class="token parameter">error</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">error</span><span class="token punctuation">(</span>error<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>Sign Out will only occur when the user explicitly signs themself out. If you need the user to sign out automatially after the session expires, you will need to dig into the Firebase documentation.</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">this</span><span class="token punctuation">.</span>$fireAuth
  <span class="token punctuation">.</span><span class="token function">signOut</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;Log Out Successful&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">catch</span><span class="token punctuation">(</span><span class="token parameter">error</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>error<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h2 id="firestore"><a href="#firestore" class="header-anchor">#</a> Firestore</h2> <p>Get data from the firestore using the onSnapshot. As of my experience, if you do it this way, you do not need to worry about Vuex because it will always keep in in sync. One downside to it may be that you get charged by how many reads you have. If it gets out of control, then maybe consider Vuex.</p> <p>Another potential issue to be aware of is if two users are using the same application and one writes new data, it will suddenly populate their webpage without any warning. I noticed that KSL and Box use a method where they only display an alert letting the user know that there is an update, and they can refresh the page to see the changes.</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">this</span><span class="token punctuation">.</span>$fireStore
  <span class="token punctuation">.</span><span class="token function">collection</span><span class="token punctuation">(</span><span class="token string">&quot;people&quot;</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">orderBy</span><span class="token punctuation">(</span><span class="token string">&quot;age&quot;</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">onSnapshot</span><span class="token punctuation">(</span>
    <span class="token parameter">snapshot</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
      <span class="token keyword">this</span><span class="token punctuation">.</span>files <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
      snapshot<span class="token punctuation">.</span>docs<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token parameter">doc</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
        <span class="token keyword">let</span> obj <span class="token operator">=</span> doc<span class="token punctuation">.</span><span class="token function">data</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        obj<span class="token punctuation">.</span>id <span class="token operator">=</span> doc<span class="token punctuation">.</span>id<span class="token punctuation">;</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>files<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>obj<span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token parameter">err</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
      console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>err<span class="token punctuation">.</span>message<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>Add to Firestore</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// ADD TO FIRESTORE</span>
<span class="token keyword">this</span><span class="token punctuation">.</span>$fireStore
  <span class="token punctuation">.</span><span class="token function">collection</span><span class="token punctuation">(</span><span class="token string">&quot;people&quot;</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    name<span class="token operator">:</span> <span class="token keyword">this</span><span class="token punctuation">.</span>add<span class="token punctuation">.</span>name<span class="token punctuation">,</span>
    age<span class="token operator">:</span> <span class="token function">parseInt</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>add<span class="token punctuation">.</span>age<span class="token punctuation">)</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token comment">// CLEAR THE FORM</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>add<span class="token punctuation">.</span>name <span class="token operator">=</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">;</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>add<span class="token punctuation">.</span>age <span class="token operator">=</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">catch</span><span class="token punctuation">(</span><span class="token parameter">err</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">error</span><span class="token punctuation">(</span><span class="token string">&quot;Error writing document: &quot;</span><span class="token punctuation">,</span> error<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>Update Firestore:</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">this</span><span class="token punctuation">.</span>$fireStore
  <span class="token punctuation">.</span><span class="token function">collection</span><span class="token punctuation">(</span><span class="token string">&quot;people&quot;</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">doc</span><span class="token punctuation">(</span>id<span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">update</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    name<span class="token operator">:</span> <span class="token keyword">this</span><span class="token punctuation">.</span>selectedUser<span class="token punctuation">.</span>name<span class="token punctuation">,</span>
    age<span class="token operator">:</span> <span class="token function">parseInt</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>selectedUser<span class="token punctuation">.</span>age<span class="token punctuation">)</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;Document successfully updated!&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">catch</span><span class="token punctuation">(</span><span class="token parameter">error</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">error</span><span class="token punctuation">(</span><span class="token string">&quot;Error updating document: &quot;</span><span class="token punctuation">,</span> error<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>Delete from Firestore:</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">this</span><span class="token punctuation">.</span>$fireStore
  <span class="token punctuation">.</span><span class="token function">collection</span><span class="token punctuation">(</span><span class="token string">&quot;people&quot;</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">doc</span><span class="token punctuation">(</span>id<span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">delete</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div></div> <footer class="page-edit"><!----> <div class="last-updated"><span class="prefix">Last Updated:</span> <span class="time">2/5/2020, 10:27:04 PM</span></div></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/firebase/securityrules.html" class="prev">Security Rules</a></span> <span class="next"><a href="/other/">Other libraries</a>
      →
    </span></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/assets/js/app.54493d1a.js" defer></script><script src="/assets/js/2.591a3c31.js" defer></script><script src="/assets/js/12.bc9ec081.js" defer></script>
  </body>
</html>
