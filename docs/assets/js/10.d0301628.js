(window.webpackJsonp=window.webpackJsonp||[]).push([[10],{357:function(t,e,s){"use strict";s.r(e);var a=s(42),n=Object(a.a)({},(function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[s("h1",{attrs:{id:"hosting"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#hosting"}},[t._v("#")]),t._v(" Hosting")]),t._v(" "),s("p",[t._v("Before anything else, you need to make sure that you go to the firebase console and start a new project.")]),t._v(" "),s("p",[t._v("Make sure that you have the firebase command line tools installed.")]),t._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v("sudo npm install -g firebase-tools\n")])])]),s("div",{staticClass:"custom-block warning"},[s("p",{staticClass:"custom-block-title"},[t._v("WARNING")]),t._v(" "),s("p",[t._v("If you are on a Linux, you need to be using NVM, not Node from the Software store. If you are using NVM, you do not need to include "),s("code",[t._v("sudo")]),t._v(" in your command.")])]),t._v(" "),s("h2",{attrs:{id:"log-in-to-firebase"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#log-in-to-firebase"}},[t._v("#")]),t._v(" Log in to Firebase.")]),t._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v("firebase login\n")])])]),s("p",[t._v("This will open up a webpage where you select your account and log in. Select "),s("code",[t._v("Allow")]),t._v(" to give Firebase the propper permissions. Once authenticated, you can go back to the code editor. You may only need to do this once per computer.")]),t._v(" "),s("h2",{attrs:{id:"initiate-your-project"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#initiate-your-project"}},[t._v("#")]),t._v(" Initiate your Project")]),t._v(" "),s("p",[s("code",[t._v("cd")]),t._v(" into your root directory in the terminal, and type in the following command:")]),t._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v("firebase init\n")])])]),s("p",[t._v("This CLI will ask multiple questions. Follow the instructions there depending on what end result you are hoping for.")]),t._v(" "),s("h2",{attrs:{id:"deploy"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#deploy"}},[t._v("#")]),t._v(" Deploy")]),t._v(" "),s("p",[t._v("If you want to double check the functionality of the project before deploying, run the following command.")]),t._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v("firebase serve\n")])])]),s("p",[t._v("When you are ready to push the site live, run:")]),t._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v("firebase deploy\n")])])]),s("p",[t._v("or to leave a message for the deploy (viewd in the console under versions), run:")]),t._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v('firebase deploy -m "Deploying the best new feature ever."\n')])])]),s("h2",{attrs:{id:"set-up-staging-and-production-sites"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#set-up-staging-and-production-sites"}},[t._v("#")]),t._v(" Set Up Staging and Production Sites")]),t._v(" "),s("p",[t._v("In the firebase console in your browser, head to the hosting section. Add a new site to your project. If you are just creating a site without a database, you don't need to create a new project. When you create the site, be sure to call it something like "),s("code",[t._v("project-name-stage")]),t._v(". You should then have two sites, one with the name of the project, and another staging site.")]),t._v(" "),s("div",{staticClass:"custom-block warning"},[s("p",{staticClass:"custom-block-title"},[t._v("WARNING")]),t._v(" "),s("p",[t._v("If you have already initialized hosting for the website without the staging site, you first need to go back and delete the "),s("code",[t._v(".firebase")]),t._v(" directory, as well as "),s("code",[t._v("firebase.json")]),t._v(" and "),s("code",[t._v(".firebaserc")]),t._v(" files. There was something cached there that caused issues.")])]),t._v(" "),s("h3",{attrs:{id:"configuring-staging-and-production"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#configuring-staging-and-production"}},[t._v("#")]),t._v(" Configuring Staging and Production")]),t._v(" "),s("p",[t._v("Initialize your project again, then head over to the "),s("a",{attrs:{href:"https://firebase.google.com/docs/hosting/multisites?authuser=0",target:"_blank",rel:"noopener noreferrer"}},[t._v("firebase documentation"),s("OutboundLink")],1),t._v(" and follow the instructions for setting up deploy targets for both sites.")]),t._v(" "),s("p",[t._v("The Firebase CLI commands for setting up your deploy targets should look like the following:")]),t._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[t._v("firebase target:apply hosting prod project-name\nfirebase target:apply hosting stage project-name-stage\n")])])]),s("p",[t._v("Your "),s("code",[t._v(".firebaserc")]),t._v(" file should look like the following:")]),t._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v('{\n  "projects": {\n    "default": "project-name"\n  },\n  "targets": {\n    "project-name": {\n      "hosting": {\n        "prod": [\n          "project-name"\n        ],\n        "stage": [\n          "project-name-stage"\n        ]\n      }\n    }\n  }\n}\n')])])]),s("p",[t._v("And your "),s("code",[t._v("firebase.json")]),t._v(" file should look like the following:")]),t._v(" "),s("div",{staticClass:"language-json extra-class"},[s("pre",{pre:!0,attrs:{class:"language-json"}},[s("code",[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"hosting"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"target"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"prod"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n      "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"public"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"dist"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n      "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"ignore"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"firebase.json"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"**/.*"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"**/node_modules/**"')]),t._v("\n      "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"target"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"stage"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n      "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"public"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"dist"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n      "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"ignore"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"firebase.json"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"**/.*"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"**/node_modules/**"')]),t._v("\n      "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),s("h3",{attrs:{id:"deploying-staging-and-production"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#deploying-staging-and-production"}},[t._v("#")]),t._v(" Deploying Staging and Production")]),t._v(" "),s("p",[t._v("There are three scripts that you will need to know.")]),t._v(" "),s("ol",[s("li",[s("code",[t._v("firebase deploy")]),t._v(" - This will deploy both the staging and development environments")]),t._v(" "),s("li",[s("code",[t._v("firebase deploy --only hosting:prod")]),t._v(" - Deploy just to the production site")]),t._v(" "),s("li",[s("code",[t._v("firebase deploy --only hosting:stage")]),t._v(" - Deploy just to the staging site\n"),s("ul",[s("li",[t._v("Append "),s("code",[t._v('-m "Deploy Message')]),t._v(" for leaving a message")])])])]),t._v(" "),s("div",{staticClass:"custom-block tip"},[s("p",{staticClass:"custom-block-title"},[t._v("TIP")]),t._v(" "),s("p",[t._v("Add a npm script for each."),s("br"),t._v("\nEx. "),s("code",[t._v('"stage": "firebase deploy --only hosting:stage"')]),t._v(" and run "),s("code",[t._v("npm run stage")]),t._v(" or "),s("code",[t._v('npm run stage -- -m "Deploy Message"')]),t._v(".")])]),t._v(" "),s("h2",{attrs:{id:"connect-domain"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#connect-domain"}},[t._v("#")]),t._v(" Connect Domain")]),t._v(" "),s("p",[t._v("If you want to deploy from soemthing other than "),s("code",[t._v("*.firebaseapp.com")]),t._v(" or "),s("code",[t._v("*.web.app")]),t._v(" you can connect to a specific domain. In the Hosting console in Firebase, click the button that says "),s("code",[t._v("Connect domain")]),t._v(".")]),t._v(" "),s("ol",[s("li",[t._v("Enter the domain")]),t._v(" "),s("li",[t._v("Verify ownership\n"),s("ol",[s("li",[t._v("Go to the Domain DNS page, and enter the resource record types provided")])])]),t._v(" "),s("li",[t._v("Go live. This might take up to a day, but typically takes 20 minutes, more or less.")])]),t._v(" "),s("p",[t._v("The DNS page might look something like this:")]),t._v(" "),s("table",[s("thead",[s("tr",[s("th",[t._v("Name")]),t._v(" "),s("th",[t._v("Type")]),t._v(" "),s("th",[t._v("TTL")]),t._v(" "),s("th",[t._v("Data")])])]),t._v(" "),s("tbody",[s("tr",[s("td",[t._v("@")]),t._v(" "),s("td",[t._v("A")]),t._v(" "),s("td",[t._v("1h")]),t._v(" "),s("td",[t._v("151.101.1.195 "),s("br"),t._v("151.101.65.195")])]),t._v(" "),s("tr",[s("td",[t._v("www")]),t._v(" "),s("td",[t._v("A")]),t._v(" "),s("td",[t._v("1h")]),t._v(" "),s("td",[t._v("151.101.1.195 "),s("br"),t._v("151.101.65.195")])]),t._v(" "),s("tr",[s("td",[t._v("foo")]),t._v(" "),s("td",[t._v("A")]),t._v(" "),s("td",[t._v("1h")]),t._v(" "),s("td",[t._v("151.101.1.195 "),s("br"),t._v("151.101.65.195")])])])]),t._v(" "),s("p",[t._v("In this example, the "),s("code",[t._v("@")]),t._v(" would be "),s("code",[t._v("bar.com")]),t._v(", "),s("code",[t._v("www")]),t._v(" would be "),s("code",[t._v("www.bar.com")]),t._v(", and "),s("code",[t._v("foo")]),t._v(" would be "),s("code",[t._v("foo.bar.com")]),t._v(".")]),t._v(" "),s("h2",{attrs:{id:"redirects"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#redirects"}},[t._v("#")]),t._v(" Redirects")]),t._v(" "),s("p",[s("code",[t._v('"type": 302')]),t._v(" is a temporary redirect, where "),s("code",[t._v('"type": 301')]),t._v(" is a permenant redirect. If you use a 301 redirect for a temporaty purpose, you may end up with seo issues.")]),t._v(" "),s("div",{staticClass:"language-js extra-class"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"redirects"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"source"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"/about"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"destination"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"/"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"type"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("301")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"source"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"/contact"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"destination"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"/"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"type"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("302")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n")])])])])}),[],!1,null,null,null);e.default=n.exports}}]);